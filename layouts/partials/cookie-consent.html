<!-- Cookie Consent Banner -->
<style>
  #cookie-banner {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: #2c3e50;
    color: white;
    padding: 15px 20px;
    text-align: center;
    z-index: 1000;
    display: none;
    box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
  }
  #cookie-banner.show {
    display: block;
  }
  #cookie-banner p {
    margin: 0 0 10px 0;
    font-size: 14px;
  }
  #cookie-banner .cookie-buttons {
    margin-top: 10px;
  }
  #cookie-banner button {
    margin: 0 5px;
    padding: 8px 20px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 14px;
  }
  #cookie-accept {
    background: #3498db;
    color: white;
  }
  #cookie-accept:hover {
    background: #2980b9;
  }
  #cookie-decline {
    background: #95a5a6;
    color: white;
  }
  #cookie-decline:hover {
    background: #7f8c8d;
  }
</style>

<div id="cookie-banner">
  <p>
    üç™ This website uses cookies for Google Analytics to improve your experience.
    By continuing to browse, you agree to our use of cookies.
  </p>
  <div class="cookie-buttons">
    <button id="cookie-accept">Accept</button>
    <button id="cookie-decline">Decline</button>
  </div>
</div>

<script>
  (function() {
    // Check if user already made a choice
    if (localStorage.getItem('cookieConsent')) {
      const consent = localStorage.getItem('cookieConsent');
      if (consent === 'accepted') {
        // User accepted - GA is already loaded by Hugo
        console.log('Analytics enabled (user accepted)');
      } else {
        // User declined - disable GA
        window['ga-disable-G-LQJH3PGC48'] = true;
      }
      return;
    }

    // Show banner
    document.getElementById('cookie-banner').classList.add('show');

    // Handle accept
    document.getElementById('cookie-accept').addEventListener('click', function() {
      localStorage.setItem('cookieConsent', 'accepted');
      document.getElementById('cookie-banner').classList.remove('show');
      console.log('Analytics enabled (user accepted)');
    });

    // Handle decline
    document.getElementById('cookie-decline').addEventListener('click', function() {
      localStorage.setItem('cookieConsent', 'declined');
      window['ga-disable-G-LQJH3PGC48'] = true;
      document.getElementById('cookie-banner').classList.remove('show');
      console.log('Analytics disabled (user declined)');
    });
  })();
</script>
